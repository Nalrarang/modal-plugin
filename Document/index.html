<!doctype html>
<html>
<head>
    <title>Custom Modal</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="stylesheet" href="./css/customModal.css">
    <link rel="stylesheet" href="./css/demo.css">

</head>
<body class="customModal">
    <div class="container">
        <h1>Custom Modal</h1>
        <p>과제 제출용 jQuery Modal Plugin 입니다.</p>
        <h2>How To Use</h2>
        <p>먼저 jQuery를 기반으로 제작되었기 때문에 jQuery를 Import 합니다. </p>

        <xmp><script src="./node_modules/jquery/dist/jquery.min.js"></script></xmp>
        <p>해당 라이브러리인 customModal.js 파일을 Import 합니다. </p>
        <xmp><script src="./js/customModal.js"></script></xmp>
        <p>바인딩하려는 버튼 또는 오브젝트에서 customModal() 를 호출해줍니다.</p>
        <xmp><script>$('.modal-open-btn').customModal()</script></xmp>

        <!-- 예제, 데모 -->
        <h2>Examples</h2>
        <div class="example-container">
            <div class="left-container">
                <div class="example-box">
                    <div class="example-demo">
                        <a href="#" id="basic-button" class="button">Open</a>
                    </div>
                    <div class="example-meta">
                        <div class="example-title">Basic</div>
                        <div class="example-desc">기본적인 Modal입니다.</div>
                    </div>
                </div>

                <div class="example-box">
                    <div class="example-demo">
                        <a href="#" id="overlay-modal-button" data-modal-bgclick="true" class="button">Open</a>
                    </div>
                    <div class="example-meta">
                        <div class="example-title">Overlay Click Close Modal</div>
                        <div class="example-desc">모달영역의 바깥쪽 클릭 시 Modal이 닫힙니다.</div>
                    </div>
                </div>

                <div class="example-box">
                    <div class="example-demo">
                        <a href="#" id="multiple-modal-button" data-modal-bgclick="true" class="button">Open</a>
                    </div>
                    <div class="example-meta">
                        <div class="example-title">Multiple</div>
                        <div class="example-desc">모달 영역내부에서 다른 모달 호출 시 이미 열린 모달 위로 모달이 생성됩니다.</div>
                    </div>
                </div>

            </div>
            <div class="right-container">
                <div class="example-box">
                    <div class="example-demo">
                        <a href="#" id="custom-modal-button" class="button">Open</a>
                    </div>
                    <div class="example-meta">
                        <div class="example-title">Custom Template</div>
                        <div class="example-desc">
                            <p>사용자 템플릿으로 생성되는 Modal입니다.</p>
                            <p>Init시 Options의 template속성에 따라 결정됩니다.</p>
                        </div>
                    </div>
                </div>

                <div class="example-box">
                    <div class="example-demo">
                        <a href="#" id="callback-modal-button" class="button">Open</a>
                    </div>
                    <div class="example-meta">
                        <div class="example-title">Callback Function</div>
                        <div class="example-desc">
                            <p>Modal이 보여지기 전, 보여지고 난 후의 Callback함수를 설정할 수 있습니다. </p>
                        </div>
                    </div>
                </div>

                <div class="example-box">
                    <div class="example-demo">
                        <a href="#" class="button basic-modal-open">기본 모달 열기</a>
                        <a href="#" class="button basic-modal-close">기본 모달 닫기</a>
                    </div>
                    <div class="example-meta">
                        <div class="example-title">Function, Events</div>
                        <div class="example-desc">외부 함수에서 모달을 오픈하거나 닫을 수 있고, 해달 모달의 Callback 이벤트를 재정의 할 수있습니다.</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 옵션 -->
        <h2>Options</h2>
        <p>Modal 생성시의 Option값들입니다.</p>
        <table>
            <thead>
                <tr>
                    <th>Property</th>
                    <th>Description</th>
                    <th>Type</th>
                    <th>Default</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>id</td>
                    <td>Append되는 Modal Element의 ID를 지정</td>
                    <td>string</td>
                    <td>modalContent_시간(시간값은 현재의 Unix Time)</td>
                </tr>
                <tr>
                    <td>width</td>
                    <td>생성되는 Modal의 가로 길이</td>
                    <td>int</td>
                    <td>420</td>
                </tr>
                <tr>
                    <td>height</td>
                    <td>생성되는 Modal의 세로 길이</td>
                    <td>int</td>
                    <td>220</td>
                </tr>
                <tr>
                    <td>multiple</td>
                    <td>생성되는 Modal이 중첩되어 보일 것인지, 기존 모달은 닫히고 새로 열릴 것인지를 결정</td>
                    <td>boolean</td>
                    <td>false</td>
                </tr>
                <tr>
                    <td>close</td>
                    <td>모달 생성시 오른쪽 상단에 클로즈 버튼이 추가될지를 결정</td>
                    <td>boolean</td>
                    <td>true</td>
                </tr>
                <tr>
                    <td>template</td>
                    <td>생성되는 Modal안에 들어갈 내용(Html Markup or String)</td>
                    <td>string</td>
                    <td>테스트용 Template...</td>
                </tr>
                <tr>
                    <td>onInit</td>
                    <td>
                        Modal이 생성되고 나서 호출하는 Callback 함수
                        Modal내에 Template요소에 Event추가와 같은 액션이 필요할때
                        이 함수에 작성해주면 됨.
                    </td>
                    <td>function(e)</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td>onBeforeShow</td>
                    <td>생성된 Modal이 Show되기전에 호출하는 Callback 함수</td>
                    <td>function(e)</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td>onAfterHide</td>
                    <td>Modal이 닫힌 후 호출되는 Cabllback 함수</td>
                    <td>function(e)</td>
                    <td>-</td>
                </tr>
            </tbody>
        </table>

        <!-- 오버레이 -->
        <h2>Overlay</h2>
        <p>Modal을 Open하려는 버튼 또는 오브젝트에 커스텀 데이터 어트리뷰트로 Overlay 클릭 시 모달의 닫힘 여부를 결정할 수있습니다. </p>
        <xmp><button type="button" data-modal-bgclick="true">OPEN</button></xmp>

        <!-- 메소드 -->
        <h2>Method</h2>
        <p>Init된 Modal 컨텐츠에서 호출가능한 Method들입니다.</p>
        <xmp>$('#modalContents').customModal('show');</xmp>
        <table>
            <thead>
                <tr>
                    <th>Property</th>
                    <th>Description</th>
                    <th>Type</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>show</td>
                    <td>해당 Modal을 보여줍니다.</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>hide</td>
                    <td>해당 Modal을 감춥니다.</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>destory</td>                    
                    <td>해당 Modal을 삭제합니다.</td>
                    <td>string</td>
                </tr>
            </tbody>
        </table>

        <!-- 이벤트 -->
        <h2>Events</h2>
        <p>생성된 Modal의 특정 Event를 줄 수 있습니다.</p>
        <xmp>$('#modalContents').on('beforeShow', function(){ ... });</xmp>
        <table>
            <thead>
                <tr>
                    <th>Property</th>
                    <th>Description</th>
                    <th>Type</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>beforeShow</td>
                    <td>해당 Modal이 보여지기 전에 호출 될 함수</td>
                    <td>function(e)</td>
                </tr>
                <tr>
                    <td>afterHide</td>
                    <td>해당 Modal이 닫힌 후에 호출 될 함수</td>
                    <td>function(e)</td>
                </tr>
            </tbody>
        </table>
    </div>
</body>
<script src="./js/jquery.min.js"></script>
<script src="./js/customModal.js"></script>
<script>
    $(document).ready(function(){
        /* 기본 모달 Init */
        $('#basic-button').customModal({
            id: 'basicModal'
        });

        /* 오버레이 모달 Init */
        $('#overlay-modal-button').customModal({
            id: 'overlayModal'
        });

        /* CustomModal을 위한 Sample Template 입니다. Sample이라 조금 대충 만들었습니다.. */
        var customTemplate = '';
        customTemplate += '<div class="custom-modal-box" style="padding:20px;">';
        customTemplate += '<p>대통령으로 선거될 수 있는 자는 국회의원의 피선거권이 있고 선거일 현재 40세에 달하여야 한다. 형사피고인은 유죄의 판결이 확정될 때까지는 무죄로 추정된다.</p>';
        customTemplate += '<p>감사위원은 원장의 제청으로 대통령이 임명하고, 그 임기는 4년으로 하며, 1차에 한하여 중임할 수 있다. 국회의원과 정부는 법률안을 제출할 수 있다. 대통령은 헌법과 법률이 정하는 바에 의하여 국군을 통수한다.</p>';
        customTemplate += '<p>대법원과 각급법원의 조직은 법률로 정한다. 이 헌법시행 당시에 이 헌법에 의하여 새로 설치될 기관의 권한에 속하는 직무를 행하고 있는 기관은 이 헌법에 의하여 새로운 기관이 설치될 때까지 존속하며 그 직무를 행한다.</p>';
        customTemplate += '<p>제3항의 승인을 얻지 못한 때에는 그 처분 또는 명령은 그때부터 효력을 상실한다. 이 경우 그 명령에 의하여 개정 또는 폐지되었던 법률은 그 명령이 승인을 얻지 못한 때부터 당연히 효력을 회복한다.</p>';
        customTemplate += '<p>대통령은 법률이 정하는 바에 의하여 훈장 기타의 영전을 수여한다. 제1항의 지시를 받은 당해 행정기관은 이에 응하여야 한다. 군인·군무원·경찰공무원 기타 법률이 정하는 자가 전투·훈련등 직무집행과 관련하여 받은 손해에 대하여는 법률이 정하는 보상외에 국가 또는 공공단체에 공무원의 직무상 불법행위로 인한 배상은 청구할 수 없다.</p>';
        customTemplate += '<p>모든 국민은 종교의 자유를 가진다. 국가는 사회보장·사회복지의 증진에 노력할 의무를 진다. 국가는 재해를 예방하고 그 위험으로부터 국민을 보호하기 위하여 노력하여야 한다.</p>';
        customTemplate += '<p>명령·규칙 또는 처분이 헌법이나 법률에 위반되는 여부가 재판의 전제가 된 경우에는 대법원은 이를 최종적으로 심사할 권한을 가진다. 국회의원은 그 지위를 남용하여 국가·공공단체 또는 기업체와의 계약이나 그 처분에 의하여 재산상의 권리·이익 또는 직위를 취득하거나 타인을 위하여 그 취득을 알선할 수 없다.</p>';
        customTemplate += '<p>재의의 요구가 있을 때에는 국회는 재의에 붙이고, 재적의원과반수의 출석과 출석의원 3분의 2 이상의 찬성으로 전과 같은 의결을 하면 그 법률안은 법률로서 확정된다.</p>';
        customTemplate += '<p>모든 국민의 재산권은 보장된다. 그 내용과 한계는 법률로 정한다. 이 헌법에 의한 최초의 대통령의 임기는 이 헌법시행일로부터 개시한다. 대법원장과 대법관이 아닌 법관의 임기는 10년으로 하며, 법률이 정하는 바에 의하여 연임할 수 있다.</p>';
        customTemplate += '<p>헌법재판소 재판관은 탄핵 또는 금고 이상의 형의 선고에 의하지 아니하고는 파면되지 아니한다. 국교는 인정되지 아니하며, 종교와 정치는 분리된다. 탄핵결정은 공직으로부터 파면함에 그친다. 그러나, 이에 의하여 민사상이나 형사상의 책임이 면제되지는 아니한다.</p>';
        customTemplate += '<div class="buttons">';
        customTemplate += '<a href="#" id="custom-close-button" class="button" style="margin: 20px auto;">닫기</a>'
        customTemplate += '</div></div>';


        /* 커스텀 템플릿 모달 Init */
        $('#custom-modal-button').customModal({
            id: 'customModal',
            width: 400,
            height: 600,
            template: customTemplate,
            onInit: function() {
                /* 템플릿안의 닫기버튼에 이벤트 추가 */
                $('#custom-close-button').on('click', function() {
                    $('#customModal').customModal('hide');
                });
            }
        });

        /* 콜백 모달 Init */
        $('#callback-modal-button').customModal({
            id: 'callbackModal',
            width: 300,
            height: 200,
            template: '<p class="modal-text">안녕하세요!</p><p class="modal-text">CustomModal 입니다.</p><p class="modal-text">감사합니다!</p>',
            onBeforeShow: function() {
                alert('모달이 보여지기 전 호출되는 Callback 함수입니다.');
            },
            onAfterHide: function() {
                alert('모달이 사라지고난 후 호출되는 Callback 함수입니다.');
            }                
        });

        /* 중첩 모달 Init */
        $('#multiple-modal-button').customModal({
            id: 'multipleModal',
            template: '<p class="modal-text">안녕하세요. Multiple Modal 예제입니다.</p><p class="modal-text">Multiple 옵션을 사용해서 Modal 안에서 새로운 Modal을 호출합니다.</p><a href="#" id="multipe-button" class="button" style="margin: 20px auto;">새로운 모달 열기</a>',
            onInit: function() {
                $('#multipe-button').customModal({
                    multiple: true,
                    width: 220,
                    height: 120,
                    template: '<p class="modal-text">새로운 Modal!</p>'
                });              
            }
        });

        /* Function, Events */
        $('.basic-modal-open').on('click', function(){
            $('#basicModal').customModal('show');
        })
        $('.basic-modal-close').on('click', function () {
            $('#basicModal').customModal('hide');
        })

    });

    
</script>

</html> 